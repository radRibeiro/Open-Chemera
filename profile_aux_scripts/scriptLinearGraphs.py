# -*- coding: utf-8 -*-
"""
Created on Sat Oct  6 09:58:21 2018

@author: ricardoribeiro
"""

"""
T512 P216 – O0	R100	R1000	R1500	R2000	R6000	R15000
distance	3.04	10.35	12.33	20.67	21.88	22.86
isInnerPoint	2.43	8.12	9.67	16.23	17.15	17.91
setextremes	1.16	3.60	4.15	6.08	9.79	10.21
addModel	48.19	27.68	23.69	0	0.45	0.2
T_aprox (segundos)	8.423	35.268	48.601	57.06	227.826	524.359
O500	R100	R1000	R1500	R2000	R6000	R15000
distance	2.11	12.09	14.11	15.4	17.45	20.66
isInnerPoint	1.69	9.5	11.07	12.08	13.67	16.19
setextremes	3	10.48	10.61	10.69	10.43	10.47
addModel	50.18	13.6	11.48	10.7	12.1	5.74
T_aprox	13.905	36.755	44.749	51.925	227.955	226.609
O1000						
distance	2.11	12.09	14.11	14.11	17.45	23.77
isInnerPoint	1.69	9.5	11.07	11.07	13.68	18.63
setextremes	3	10.48	10.6	10.6	10.43	10.26
addModel	50.18	13.61	11.47	11.47	12.1	0.01
T_aprox	13.883	36.566	44.383	52.109	227.592	190.342
O2000						
distance	3.84	12.09	14.11	14.11	17.45	23.77
isInnerPoint	2.81	9.49	11.07	11.07	13.67	18.63
setextremes	4.83	10.48	10.6	10.6	10.43	10.26
addModel	17.83	13.6	11.47	11.47	12.1	0.01
T_aprox	18.847	36.848	44.374	52.039	226.448	189.342
O200000						
distance	6.88	19.28	28.51	33.50	17.45	23.76
isInnerPoint	5.55	15.16	25.12	25.42	13.67	18.62
setextremes	3.02	5.67	4.13	4.17	10.43	10.25
addModel	0	0	0	0	12.1	0.01
T_aprox	1398	16.092	23.562	31.618	226.609	191.682
T3375 P1728 – O0						
distance	15.66	26.51	31.98	28.10	33.98	34.39
isInnerPoint	12.07	22.33	24.27	24.75	25.77	26.08
setextremes	4.13	3.87	4.01	4.08	5.93	5.97
addModel	18.51	4.11	2.85	2.18	0.76	0.31
T_aprox	15.17	78.506	112.267	148.042	379.364	951.745
O500						
distance	12.21	29.14	30.78	31.68	34.34	34.58
isInnerPoint	9.41	22.13	23.36	24.04	26.04	26.22
setextremes	3.22	5.31	5.51	5.63	5.87	5.91
addModel	26.26	6.72	4.73	3.65	0	0
T_aprox	30.992	82.4	113.723	143.868	386.302	955.034
O1000						
distance	12.21	29.15	30.78	31.69	34.34	34.56
isInnerPoint	9.41	22.14	23.36	24.05	26.04	26.21
setextremes	3.22	5.31	5.51	5.63	5.87	5.9
addModel	26.25	6.72	4.73	3.65	0	0
T_aprox	26.804	82.468	113.439	144.538	381.605	960.196
O2000						
distance	12.22	29.15	30.78	31.69	34.32	34.58
isInnerPoint	9.42	22.14	23.36	24.05	26.03	26.22
setextremes	3.23	5.31	5.51	5.63	5.87	5.91
addModel	26.25	6.72	4.73	3.65	0	0
T_aprox	8105	82.24	112.763	143.795	381.281	956.523
O200000						
distance	17.10	32.33	28.51	33.50	34.32	34.4
isInnerPoint	14.59	24.56	25.12	25.42	26.03	26.09
setextremes	2.73	4.05	4.13	4.17	5.87	5.87
addModel	0	0	0	0	0	0
T_aprox	8.105	71.14	115.971	139.812	381.173	1031.809
T19683 P6859 – O0						
distance	16.58	29.16	30.01	30.45	36.22	36.46
isInnerPoint	14.83	25.61	25.21	26.71	27.37	27.55
setextremes	2.51	3.65	3.73	3.77	5.12	5.09
addModel	 12.70	2.24	1.53	1.17	0.4	0.16
T_aprox	42.697	270.975	362.544	479.619	1401.841	3749.093
O500						
distance	17.75	33.33	34.45	35.05	36.39	36.53
isInnerPoint	13.66	25.23	26.06	26.5	27.5	27.61
setextremes	5.35	5.16	5.15	5.14	5.09	5.08
addModel	15.49	2.92	2.01	1.54	0	0
T_aprox	271.076	471.326	584.363	770.536	1366.122	3601.656
O1000						
distance	17.75	33.33	34.45	35.05	36.41	36.54
isInnerPoint	13.66	25.23	26.06	26.5	27.52	27.61
setextremes	5.35	5.16	5.15	5.14	5.06	5.07
addModel	15.49	2.92	2.01	1.54	0	0
T_aprox	271.07	472.543	582.104	229.878	1354.097	3524.589
O2000						
distance	17.75	33.33	34.45	35.05	36.42	36.54
isInnerPoint	13.66	25.23	26.06	26.5	27.52	27.61
setextremes	5.35	5.16	5.15	5.14	5.06	5.07
addModel	15.49	2.92	2.01	1.54	0	0
T_aprox	271.346	473.159	618.136	229.878	1352.523	3562.973
O200000						
distance	23.34	34.90	35.56	35.90		
isInnerPoint	17.96	26.42	26.90	26.00		
setextremes	3.02	3.77	3.81	3.83		
addModel	0	0	0	0	0	0
T_aprox	28.342	254.441		511.888	1394.158	3398.078
T32678 P19683 – O0						
distance	19.28	33.83	30.01	35.32	38.45	
isInnerPoint	14.83	25.61	26.33	26.71	29.03	
setextremes	2.51	3.65	3.73	3.77	2.15	
addModel	12.70	2.24	1.53	1.17	0.07	
T_aprox	97.121	712.441	1050.257	1255.129	9325.689	
O500						
distance	23.7	36.68	37.07	37.53	33.18	
isInnerPoint	18.11	27.72	28	28.35	29.05	
setextremes	5.36	3.19	3.03	2.97	2.15	
addModel	7.98	1.23	0.83	0.63	0	
T_aprox	1233.575	2007.169	2403.752	2756.574	9464.101	
O1000						
distance	23.7	37.11	37.36	37.77		
isInnerPoint	18.11	28.05	28.22	28.53		
setextremes	5.36	3.13	2.99	2.94		
addModel	7.98	0.27	0.18	0.14		
T_aprox	1345.677	2103.7	2508.133	2822.275		
O2000						
distance	23.7	36.68	37.07	37.53		
isInnerPoint	18.11	27.72	28	28.35		
setextremes	5.36	3.19	3.03	2.97		
addModel	7.98	1.23	0.83	0.63		
T_aprox	1345.595	2002.787	2407.285	1233.575		
O200000						
distance	23.34	30.09	35.56	35.90	33.16	
isInnerPoint	17.96	26.42	26.90	27.15	29.03	
setextremes	3.02	4.93	3.81	3.83	2.15	
addModel	0	0	0	0	0	0
T_aprox	76.2	677.514	1025.239	53.456	
"""
import matplotlib.pyplot as plt
import numpy as np
functions = ["distance","isInnerPoint","setextremes","addModel"]
overlaps = ["O0","O500","O1000","O2000","O200000"]
speedupLabel = "Speedup"

cubes = ["T512P216","T3375P1728","T19683P6859","T32768P19683"]
rotations = ["R100","R1000","R1500","R2000","R6000","R15000"]
#"T512 P216"
            # O0 "T512 P216"
            # "R100","R1000","R1500","R2000","R6000","R15000"
valMatrix = [
             [3.70,11.85,14.03,15.50,20.95,23.98],# "distance" 0
             [2.89,10.17,12.04,13.31,17.99,20.59],#"isInnerPoint" 1
             [0.24,0.80,	0.92,	1.01,	1.31,	1.46],#"setextremes" 2
             [48.73,	39.02,34.05,30.52,	15.83,	7.25],#"addModel" 3
             #O500
             [1.95,9.58,11.81,13.42,25.21,20.00],#"distance" 4
             [1.79,8.23,10.14,11.52,21.64,16.19],#"isInnerPoint" 5
             [0.14,0.64,0.78,0.87,1.48,10.47]#"setextremes" 6 
            ,[53.47,43.25,38.29,34.61,0,0]#"addModel" 7
            #O1000
            ,[1.95,11.21,11.81,13.42,17.45,23.77]#"distance" 8
            ,[1.68,8.23,10.14,11.52,13.68,18.63]#"isInnerPoint" 9 
            ,[0.14,0.64,0.78,0.87,10.43,10.26]#"setextremes" 10
            ,[53.44,43.25,38.29,34.62,12.1,0.01]#"addModel" 11
            #O2000
            ,[1.95,12.09,11.81,13.43,25.20,23.77]#"distance" 12
            ,[1.68,9.49,10.14,11.53,21.64,18.63]#"isInnerPoint" 13
            ,[0.14,0.64,0.78,0.87,1.48,10.26]#"setextremes" 14
            ,[53.44,43.24,38.27,34.62,0,0.01]#"addModel" 15
            #O200000
            ,[6.45,9.58,11.81,22.89,25.20,23.76]#"distance" 16
            ,[5.55,8.23,10.14,19.65,21.63,18.62]#"isInnerPoint" 17
            ,[0.37,0.64,0.78,1.35,1.48,10.25]#"setextremes" 18
            ,[0,0,0,0,0.12,0.01]#"addModel" 19
            #O0 "T3375 P1728"
            ,[13.72,27.81,29.37,30.24,37.85,33.52]#"distance" 20
            ,[11.55,23.40,24.71,25.44,28.70,28.20]#"isInnerPoint" 21
            ,[0.42,0.23,0.24,0.25,0.25,0.25]#"setextremes" 22
            ,[26.82,11.47,8.92,7.45,3.08,1.27]#"addModel" 23
            #O500
            ,[10.25,26.01,28.01,29.16,33.72,33.97]#"distance" 24
            ,[8.62,21.88,23.56,24.53,28.37,28.58]#"isInnerPoint" 25
            ,[0.10,0.22,0.23,0.24,0.25,0.25]#"setextremes" 26
            ,[35.45,14.69,11.36,9.41,0,0]#"addModel"27
            #O1000
            ,[12.21,29.15,28.01,29.16,33.72,33.98]#"distance" 28
            ,[9.41,22.14,23.56,24.53,28.37,28.59]#"isInnerPoint" 29
            ,[0.10,0,23,0.23,0.24,0.25,0.25]#"setextremes" 30
            ,[26.25,14,69,11.36,9.41,0,0]#"addModel" 31
            #O2000
            ,[12.22,29.15,28.01,29.15,33.71,33.98]#"distance" 32
            ,[9.42,21.88,23.56,24.52,28.36,28.59]#"isInnerPoint" 33
            ,[ 0.11,0.22,0.23,0.24,0.25,0.25]#"setextremes" 34
            ,[15.49,14.69,11.36,9.41,0,0]#"addModel" 35
            #O200000
            ,[31.61,31.61,32.42,32.84,33.70,33.99]#"distance" 36
            ,[26.59,26.59,27.27,27.62,28.35,28.59]#"isInnerPoint" 37
            ,[0.23,0.23,0.24,0.24,0.25,0.25]#"setextremes" 38
            ,[0,0,0,0,0,0]#addModel" 39
            # "T19683 P6859" O0
            ,[21.21,29.16,32.41,32.46,33.07,33.52]#"distance" 40
            ,[18.84,25.61,27.21,27.21,27.74,28.20]#"isInnerPoint" 41
            ,[2.60,3.65,2.16,2.15,2.16,0.25]#"setextremes" 42
            ,[6.50,2.24,0.66,0.50,0.4,1.27]#"addModel" 43
            #O500
            ,[17.75,33.33,34.45,32.36,33.13,36.53]#"distance" 44
            ,[13.66,25.23,26.06,27.16,27.80,27.61]#"isInnerPoint" 45
            ,[5.35,5.16,5.15,2.14,2.16,5.08]#"setextremes" 46
            ,[15.49,2.92,0.63,1.54,0,0] #addModel 47
            #O1000
            ,[17.75,33.33,34.45,32.36,33.16,36.54]#"distance" 48
            ,[13.66,25.23,26.06,27.16,27.52,27.61]#"isInnerPoint" 49
            ,[5.35,5.16,5.15,2.14,5.06,5.07]#"setextremes" 50
            ,[15.49,2.92,2.01,0.63,0,0]#"addModel" 51
            #O2000
            ,[17.75,33.33,34.45,32.36,27.82,36.54]#"distance" 52
            ,[13.66,25.23,26.06,27.16,27.52,27.]#"isInnerPoint" 53
            ,[5.35,5.16,5.15,2.14,2.16,5.07]#"setextremes" 54
            ,[15.49,2.92,2.01,0.63,0,0]#"addModel" 55
            #O200000
            ,[23.34,34.90,32.82,32.77,36.42,36.54]#"distance" 56
            ,[17.96,26.42,27.55,27.51,27.48,27.61]#"isInnerPoint"57
            ,[3.02,3.77,2.18,2.17,5.08,3.86]#"setextremes" 58
            ,[0,0,0,0,0,0]#"addModel" 59
            #T32678 P19683 O0
            ,[19.28,33.83,30.01,35.32,38.45,33.71]#"distance" 60
            ,[14.83,25.61,26.33,26.71,29.03,28.29]#"isInnerPoint" 61
            ,[2.51,3.65,3.73,3.77,2.15,1.07]#"setextremes" 62
            ,[12.70,2.24,1.53,1.17,0.07,0]#"addModel" 63
            #O500
            ,[23.7,36.68,37.07,37.53,33.18,33.18]#"distance" 64
            ,[18.11,27.72,28,28.35,29.05,27.84]#"isInnerPoint" 65
            ,[5.36,3.19,3.03,2.97,2.15,2.15]#"setextremes" 66
            ,[7.98,1.23,0.83,0.63,0,0]#"addModel" 67
            #O1000
            ,[23.7,37.11,37.36,37.77,33.01,33.19]#"distance" 68
            ,[18.11,28.05,28.22,28.53,28.91,27.85]#"isInnerPoint" 69
            ,[5.36,3.13,2.99,2.94,2.15,2.16]#"setextremes" 70
            ,[7.98,0.27,0.18,0.14,0.21,0]#"addModel" 71
            #O2000
            ,[23.7,36.68,37.07,37.53,33.01,33.17]#"distance" 72
            ,[18.11,27.72,28,28.35,28.91,27.84]#"isInnerPoint"73
            ,[5.36,3.19,3.03,2.97,2.15,2.17]#"setextremes" 74
            ,[7.98,1.23,0.83,0.63,0.21,0]#"addModel" 75
            #O200000
            ,[23.34,30.09,35.56,35.90,33.16,33.20]#"distance" 76
            ,[17.96,26.42,26.90,27.15,29.03,27.85]#"isInnerPoint" 77
            ,[3.02,4.93,3.81,3.83,2.15,2.16]#"setextremes" 78
            ,[0,0,0,0,0,0]#"addModel"79
             ]
                #t1-t2 (Rounded seconds)
                #T32678 P19683 O0
speedupMatrix = [[[977.121,0],[712.441,0],[1050.257,0],[1255.129,0],[13029.835,0],[5943.501,0]],
                 [[1233.575,0],[2007.169,0],[2403.752,0],[2756.6574,0],[13150.453,0],[9466.719,0]],
                 [[1345.677,0],[2103.700,0],[2508.133,0],[2822.275,0],[3669.290,0],[9221.162,0]],
                 [[1345.595,0],[2002.787,0],[2407.285,0],[1233.575,0],[13611.654,0],[7298.634,0]],
                 [[1233.575,0],[998.684,0],[1500.937,0],[2024.826,0],[14311.472,0],[9177.245,0]]]
#plot by cubeSize
#fixed rotations and overlap
for i in range(len(rotations)):
   for j in range(len(overlaps)):
        #"T512 P216"        "T3375 P1728"
            toPlotdistance = [valMatrix[0+4*j][i],valMatrix[20+4*j][i],valMatrix[40+4*j][i],valMatrix[60+4*j][i]]
            toPlotInnerPoint = [valMatrix[1+4*j][i],valMatrix[21+4*j][i],valMatrix[41+4*j][i],valMatrix[61+4*j][i]]
            toPlotsetExtremes = [valMatrix[2+4*j][i],valMatrix[22+4*j][i],valMatrix[42+4*j][i],valMatrix[62+4*j][i]]
            toPlotaddModel  =  [valMatrix[3+4*j][i],valMatrix[23+4*j][i],valMatrix[43+4*j][i],valMatrix[63+4*j][i]]
            x = np.array([0,1,2,3])
            plt.xticks(x,cubes)
            plt.plot(x,toPlotdistance,'r',x,toPlotInnerPoint, 'g',x,toPlotsetExtremes,'b', x,toPlotaddModel,'k')
            plt.ylabel('self (%)')            
            plt.legend(functions)
            plt.title(rotations[i]+"_"+overlaps[j])
            plt.savefig("esferas/graficos/A variar tamanhos/"+rotations[i]+"_"+overlaps[j]+".png")
            fig = plt.figure()
            ax = fig.add_subplot()
            for a,b in zip(x, toPlotdistance): 
                plt.text(a, b, str(b))
            for a,b in zip(x, toPlotInnerPoint): 
                plt.text(a, b, str(b))
            for a,b in zip(x, toPlotsetExtremes): 
                plt.text(a, b, str(b))
            for a,b in zip(x, toPlotaddModel): 
                plt.text(a, b, str(b))
            plt.close('all')
#plot by rotations
#fixed cube sizes and overlap
for i in range(len(cubes)):
    for j in range(len(overlaps)):#R100       R1000              R1500          R2000           R6000           R15000
           toPlotdistance = [valMatrix[(20*i)+4*j][0],valMatrix[(20*i)+4*j][1],
                                       valMatrix[(20*i)+4*j][2],valMatrix[(20*i)+4*j][3],
                                       valMatrix[(20*i)+4*j][4],valMatrix[(20*i)+4*j][5]]
           toPlotInnerPoint = [valMatrix[((20*i)+1)+4*j][0],valMatrix[((20*i)+1)+4*j][1],
                                       valMatrix[((20*i)+1)+4*j][2],valMatrix[((20*i)+1)+4*j][3],
                                       valMatrix[((20*i)+1)+4*j][4],valMatrix[((20*i)+1)+4*j][5]]
           toPlotsetExtremes = [valMatrix[((20*i)+2)+4*j][0],valMatrix[((20*i)+2)+4*j][1],
                                          valMatrix[((20*i)+2)+4*j][2],valMatrix[((20*i)+2)+4*j][3]
                                          ,valMatrix[((20*i)+2)+4*j][4],valMatrix[((20*i)+2)+4*j][5]]
           toPlotaddModel  =  [valMatrix[((20*i)+3)+4*j][0],valMatrix[((20*i)+3)+4*j][1],
                               valMatrix[((20*i)+3)+4*j][2],valMatrix[((20*i)+3)+4*j][3],
                                valMatrix[((20*i)+3)+4*j][4],valMatrix[((20*i)+3)+4*j][5]]
           x = np.array([0,1,2,3,4,5])
           plt.xticks(x,rotations)
           plt.plot(x,toPlotdistance,'r',x,toPlotInnerPoint, 'g',x,toPlotsetExtremes,'b', x,toPlotaddModel,'k')
           plt.ylabel('self (%)') 
           plt.legend(functions)
           plt.title(cubes[i]+"_"+overlaps[j])
           plt.savefig("esferas/graficos/A variar rotacoes/"+cubes[i]+"_"+overlaps[j]+".png")
           fig = plt.figure()
           ax = fig.add_subplot()
           for a,b in zip(x, toPlotdistance): 
                plt.text(a, b, str(b))
           for a,b in zip(x, toPlotInnerPoint): 
                plt.text(a, b, str(b))
           for a,b in zip(x, toPlotsetExtremes): 
                plt.text(a, b, str(b))
           for a,b in zip(x, toPlotaddModel): 
                plt.text(a, b, str(b))
           plt.close('all')
#plot by minOverlap
#fixed cube sizes and rotations          
for i in range(len(cubes)):
    for k in range(len(rotations)):
                toPlotdistance = [valMatrix[(20*i)][k],valMatrix[(20*i)+4][k]
                ,valMatrix[(20*i)+8][k],valMatrix[(20*i)+12][k],valMatrix[(20*i)+16][k]]
                toPlotInnerPoint = [valMatrix[((20*i)+1)][k],valMatrix[((20*i)+1)+4][k]
                ,valMatrix[((20*i)+1)+8][k],valMatrix[((20*i)+1)+12][k],
                           valMatrix[((20*i)+1)+16][k]]
                toPlotsetExtremes = [valMatrix[((20*i)+2)][k],valMatrix[((20*i)+2)+4][k]
                ,valMatrix[((20*i)+2)+8][k],valMatrix[((20*i)+2)+12][k],
                           valMatrix[((20*i)+2)+16][k]]
                toPlotaddModel  =  [valMatrix[((20*i)+3)][k],valMatrix[((20*i)+3)+4][k]
                ,valMatrix[((20*i)+3)+8][k],valMatrix[((20*i)+3)+12][k],
                           valMatrix[((20*i)+3)+16][k]]
                x = np.array([0,1,2,3,4])
                plt.xticks(x,overlaps)
                plt.plot(x,toPlotdistance,'r',x,toPlotInnerPoint, 'g',x,toPlotsetExtremes,'b', x,toPlotaddModel,'k')
                plt.ylabel('self (%)')                 
                plt.legend(functions)
                plt.title(cubes[i]+"_"+rotations[k])
                plt.savefig("esferas/graficos/A variar overlap/"+cubes[i]+"_"+rotations[k]+".png")
                fig = plt.figure()
                ax = fig.add_subplot()
                for a,b in zip(x, toPlotdistance): 
                    plt.text(a, b, str(b))
                for a,b in zip(x, toPlotInnerPoint): 
                    plt.text(a, b, str(b))
                for a,b in zip(x, toPlotsetExtremes): 
                    plt.text(a, b, str(b))
                for a,b in zip(x, toPlotaddModel): 
                    plt.text(a, b, str(b))
                plt.close('all')
#plot by speedup
for i in range(len(overlaps)):
    for k in range(len(rotations)):
        toPlotSpeedup = [(speedupMatrix[i][k][0]/speedupMatrix[i][k][1]),
                         (speedupMatrix[i][k][0]/speedupMatrix[i][k][1]),
                         (speedupMatrix[i][k][0]/speedupMatrix[i][k][1]),
                         (speedupMatrix[i][k][0]/speedupMatrix[i][k][1]),
                         (speedupMatrix[i][k][0]/speedupMatrix[i][k][1]),
                         (speedupMatrix[i][k][0]/speedupMatrix[i][k][1])]
    x = np.array([0,1,2,3,4])
    plt.xticks(x,rotations)
    plt.plot(x,toPlotSpeedup)
    plt.ylabel('speedup')
    plt.title("speedup for "+cubes[3]+" with overlap: "+overlaps[k])
    plt.savefig("speedup/"+cubes[3]+"_"+overlaps[k]+".png")
    fig = plt.figure()
    ax = fig.add_subplot()
    for a,b in zip(x, toPlotSpeedup): 
        plt.text(a, b, str(b))
    plt.close('all')
